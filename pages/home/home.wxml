<!--pages/home/home.wxml-->
<view class="container home-container">
  <!-- å¤´éƒ¨è½®æ’­å›¾ -->
  <view class="banner-section">
    <swiper class="banner-swiper" indicator-dots="{{true}}" autoplay="{{true}}" interval="4000" duration="500" circular="{{true}}">
      <swiper-item wx:for="{{banners}}" wx:key="id">
        <image class="banner-image" src="{{item.image}}" mode="aspectFill"></image>
        <view class="banner-content">
          <text class="banner-title">{{item.title}}</text>
          <text class="banner-desc">{{item.desc}}</text>
        </view>
      </swiper-item>
    </swiper>
  </view>

  <!-- å¿«æ·åŠŸèƒ½åŒº -->
  <view class="quick-actions">
    <view class="action-item" bindtap="scanQRCode">
      <view class="action-icon icon-scan pulse">ğŸ½ï¸</view>
      <text class="action-text">ç«‹å³ç‚¹é¤</text>
    </view>
    <view class="action-item" bindtap="navigateTo" data-url="/pages/queue-status/queue-status">
      <view class="action-icon icon-queue">ğŸ•’</view>
      <text class="action-text">æ’é˜Ÿå–å·</text>
    </view>
    <view class="action-item" bindtap="navigateTo" data-url="/pages/user-reviews/user-reviews">
      <view class="action-icon icon-review">â­</view>
      <text class="action-text">ç”¨æˆ·è¯„ä»·</text>
    </view>
    <view class="action-item" bindtap="navigateTo" data-url="/pages/menu/menu">
      <view class="action-icon icon-menu">ğŸ“‹</view>
      <text class="action-text">èœå•é¢„è§ˆ</text>
    </view>
  </view>

  <!-- ç‰¹è‰²æ¨è -->
  <view class="section-title">
    <text class="title-text">ç‰¹è‰²æ¨è</text>
    <view class="title-more" bindtap="navigateTo" data-url="/pages/menu/menu">æŸ¥çœ‹å…¨éƒ¨</view>
  </view>
  
  <scroll-view class="featured-dishes" scroll-x="{{true}}" enhanced="{{true}}" show-scrollbar="{{false}}">
    <view class="dish-card" wx:for="{{featuredDishes}}" wx:key="id" bindtap="navigateToDish" data-id="{{item.id}}">
      <image class="dish-image" src="{{item.image}}" mode="aspectFill"></image>
      <view class="dish-info">
        <text class="dish-name">{{item.name}}</text>
        <text class="dish-price">Â¥{{item.price}}</text>
      </view>
      <view wx:if="{{item.tag}}" class="dish-tag">{{item.tag}}</view>
    </view>
  </scroll-view>

  <!-- ç”¨æˆ·è¯„ä»· -->
  <view class="section-title">
    <text class="title-text">é¡¾å®¢è¯„ä»·</text>
    <view class="title-more" bindtap="navigateTo" data-url="/pages/user-reviews/user-reviews">æ›´å¤šè¯„ä»·</view>
  </view>

  <view class="reviews-preview">
    <swiper class="reviews-swiper" autoplay="{{true}}" interval="5000" duration="600" circular="{{true}}" vertical="{{true}}" display-multiple-items="2">
      <swiper-item class="review-item" wx:for="{{recentReviews}}" wx:key="id">
        <view class="review-card">
          <image class="reviewer-avatar" src="{{item.avatar || '/images/default_avatar.png'}}" mode="aspectFill"></image>
          <view class="review-content">
            <view class="reviewer-info">
              <text class="reviewer-name">{{item.username}}</text>
              <view class="reviewer-rating">
                <text class="rating-star" wx:for="{{item.rating}}" wx:key="*this" wx:for-item="star">â˜…</text>
              </view>
            </view>
            <text class="review-text">{{item.content}}</text>
          </view>
        </view>
      </swiper-item>
    </swiper>
  </view>

  <!-- é¤å…ä¿¡æ¯ -->
  <view class="restaurant-info card">
    <view class="info-row">
      <view class="info-icon">ğŸ“</view>
      <text class="info-text">{{restaurantInfo.address}}</text>
    </view>
    <view class="info-row">
      <view class="info-icon">ğŸ•™</view>
      <text class="info-text">{{restaurantInfo.hours}}</text>
    </view>
    <view class="info-row">
      <view class="info-icon">ğŸ“</view>
      <text class="info-text">{{restaurantInfo.phone}}</text>
    </view>
    <view class="info-actions">
      <button class="info-button" bindtap="makePhoneCall">æ‹¨æ‰“ç”µè¯</button>
      <button class="info-button" bindtap="openLocation">æŸ¥çœ‹åœ°å›¾</button>
    </view>
  </view>
</view> 